<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Video.js DNA Plugin</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
    </style>
    <link rel="stylesheet" href="https://samples.streamroot.io/web/assets/demo-pages.css">

    <!-- Makes the header -->
    <script src="https://samples.streamroot.io/web/assets/header.js"></script>

    <!-- Video.js build -->
    <link href="https://vjs.zencdn.net/7.4.1/video-js.min.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/7.4.1/video.min.js"></script>

    <!-- Streamroot source handler plugin -->
    <script src="https://cdn.streamroot.io/videojs-hlsjs-plugin/1/stable/videojs-hlsjs-plugin.js"></script>

    <!-- Streamroot DNA plugin -->
    <script src="https://cdn.streamroot.io/videojs-hls-dna-plugin/1/stable/videojs-hls-dna-plugin.js#streamrootKey=da32565b-dd31-4ae8-9be7-951d6ca79621"></script>

    <!-- Graphs -->
    <script src="https://tools.streamroot.io/usage-graphs/stable/graphs.js"></script>

</head>

<body>
    <header></header>
    <center>
        <div>
            <video id=demoplayer width=1000 height=500 class="video-js vjs-default-skin" controls autoplay muted>
                <source src='http://vod-l3.delivery.streamroot.io/vodOrigin/tos1500.mp4/playlist.m3u8' type="application/x-mpegURL">
            </video>
        </div>
        <div id="streamroot-graphs"></div>
    </center>
    <script>
        function contentIdFn(contentUrl) {
            var l = document.createElement("a");
            l.href = contentUrl;
            return l.pathname;
        };

        var options = {
            dnaConfig: {"contentIdGenerator" : contentIdFn},
            html5: {
                hlsjsConfig: {
                    "maxBufferSize": 0,
                    "maxBufferLength": 30,
                    "liveSyncDuration": 30,
                    "liveMaxLatencyDuration": Infinity
                }
            }
        };
        
        var player = videojs('demoplayer', options);
    </script>

</body>
​

</html>
​